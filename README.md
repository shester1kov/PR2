# PracticeWork2

## 1. описание

это клиент-серверное приложение, работающее по протоколу tcp. клиент отправляет текстовые файлы на сервер, который сохраняет их и выполняет анализ (подсчет строк, слов и символов). результаты анализа сохраняются в файле и отправляются обратно клиенту.

## 2. запуск сервера

### инструкция по запуску:

1. перейти в папку server:
   ```sh
   cd server
   ```
2. запустить сервер:
   ```sh
   go run main.go
   ```
3. сервер создаст директорию `uploads/` для сохранения файлов, если она не существует.

### логика работы сервера:

- сервер запускает tcp-листенер на порту 5555.
- принимает входящее соединение от клиента.
- получает имя файла (до символа `\n`).
- создает уникальное имя для файла, добавляя временную метку.
- сохраняет файл в директорию `uploads/`.
- анализирует файл: подсчитывает строки, слова и символы.
- сохраняет результаты анализа в `analysis_result.txt` (используется `sync.Mutex` для защиты от состояния гонки).
- отправляет результаты анализа обратно клиенту.

## 3. запуск клиента



### инструкция по запуску:

1. перейти в папку client:
   ```sh
   cd client
   ```
2. запустить клиент:
   ```sh
   go run main.go
   ```
3. клиент предложит ввести путь к файлу.
4. клиент отправит файл серверу и получит результаты анализа.

### логика работы клиента:

- клиент запрашивает у пользователя путь к файлу.
- открывает файл и устанавливает tcp-соединение с сервером.
- отправляет имя файла (с `\n` в конце).
- отправляет содержимое файла.
- получает результаты анализа от сервера и выводит их в консоль.


## 4. обработка ошибок

### сервер:

- если не удается открыть или записать в файл, сервер отправляет клиенту сообщение об ошибке.

### клиент:

- если введен неверный путь к файлу, клиент выводит ошибку и предлагает ввести путь заново.
- если сервер недоступен, клиент выводит сообщение об ошибке и завершает работу.



